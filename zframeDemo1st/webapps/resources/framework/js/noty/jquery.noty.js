if(typeof Object.create!=="function"){Object.create=function(b){function a(){}a.prototype=b;return new a()}}(function(b){var a={init:function(d){this.options=b.extend({},b.noty.defaults,d);this.options.layout=(this.options.custom)?b.noty.layouts.inline:b.noty.layouts[this.options.layout];this.options.theme=b.noty.themes[this.options.theme];delete d.layout;delete d.theme;this.options=b.extend({},this.options,this.options.layout.options);this.options.id="noty_"+(new Date().getTime()*Math.floor(Math.random()*1000000));this.options=b.extend({},this.options,d);this._build();return this},_build:function(){var f=b('<div class="noty_bar"></div>').attr("id",this.options.id);f.append(this.options.template).find(".noty_text").html(this.options.text);this.$bar=(this.options.layout.parent.object!==null)?b(this.options.layout.parent.object).css(this.options.layout.parent.css).append(f):f;if(this.options.buttons){this.options.closeWith=[];this.options.timeout=false;var e=b("<div/>").addClass("noty_buttons");(this.options.layout.parent.object!==null)?this.$bar.find(".noty_bar").append(e):this.$bar.append(e);var d=this;b.each(this.options.buttons,function(h,g){var j=b("<button/>").addClass((g.addClass)?g.addClass:"gray").html(g.text).appendTo(d.$bar.find(".noty_buttons")).bind("click",function(){if(b.isFunction(g.onClick)){g.onClick.call(j,d)}})})}this.$message=this.$bar.find(".noty_message");this.$closeButton=this.$bar.find(".noty_close");this.$buttons=this.$bar.find(".noty_buttons");b.noty.store[this.options.id]=this},show:function(){var d=this;b(d.options.layout.container.selector).append(d.$bar);d.options.theme.style.apply(d);(b.type(d.options.layout.css)==="function")?this.options.layout.css.apply(d.$bar):d.$bar.css(this.options.layout.css||{});d.$bar.addClass(d.options.layout.addClass);d.options.layout.container.style.apply(b(d.options.layout.container.selector));d.options.theme.callback.onShow.apply(this);if(b.inArray("click",d.options.closeWith)>-1){d.$bar.css("cursor","pointer").one("click",function(){d.close()})}if(b.inArray("hover",d.options.closeWith)>-1){d.$bar.one("mouseenter",function(){d.close()})}if(b.inArray("button",d.options.closeWith)>-1){d.$closeButton.one("click",function(){d.close()})}if(b.inArray("button",d.options.closeWith)==-1){d.$closeButton.remove()}if(d.options.callback.onShow){d.options.callback.onShow.apply(d)}d.$bar.animate(d.options.animation.open,d.options.animation.speed,d.options.animation.easing,function(){if(d.options.callback.afterShow){d.options.callback.afterShow.apply(d)}d.shown=true});if(d.options.timeout){d.$bar.delay(d.options.timeout).promise().done(function(){d.close()})}return this},close:function(){if(this.closed){return}var e=this;if(!this.shown){var d=[];b.each(b.noty.queue,function(f,g){if(g.options.id!=e.options.id){d.push(g)}});b.noty.queue=d;return}e.$bar.addClass("i-am-closing-now");if(e.options.callback.onClose){e.options.callback.onClose.apply(e)}e.$bar.clearQueue().stop().animate(e.options.animation.close,e.options.animation.speed,e.options.animation.easing,function(){if(e.options.callback.afterClose){e.options.callback.afterClose.apply(e)}}).promise().done(function(){if(e.options.modal){b.notyRenderer.setModalCount(-1);if(b.notyRenderer.getModalCount()==0){b(".noty_modal").fadeOut("fast",function(){b(this).remove()})}}b.notyRenderer.setLayoutCountFor(e,-1);if(b.notyRenderer.getLayoutCountFor(e)==0){b(e.options.layout.container.selector).remove()}if(typeof e.$bar!=="undefined"&&e.$bar!==null){e.$bar.remove();e.$bar=null;e.closed=true}delete b.noty.store[e.options.id];e.options.theme.callback.onClose.apply(e);if(!e.options.dismissQueue){b.noty.ontap=true;b.notyRenderer.render()}})},setText:function(d){if(!this.closed){this.options.text=d;this.$bar.find(".noty_text").html(d)}return this},setType:function(d){if(!this.closed){this.options.type=d;this.options.theme.style.apply(this);this.options.theme.callback.onShow.apply(this)}return this},setTimeout:function(e){if(!this.closed){var d=this;this.options.timeout=e;d.$bar.delay(d.options.timeout).promise().done(function(){d.close()})}return this},closed:false,shown:false};b.notyRenderer={};b.notyRenderer.init=function(d){var e=Object.create(a).init(d);(e.options.force)?b.noty.queue.unshift(e):b.noty.queue.push(e);b.notyRenderer.render();return(b.noty.returns=="object")?e:e.options.id};b.notyRenderer.render=function(){var d=b.noty.queue[0];if(b.type(d)==="object"){if(d.options.dismissQueue){b.notyRenderer.show(b.noty.queue.shift())}else{if(b.noty.ontap){b.notyRenderer.show(b.noty.queue.shift());b.noty.ontap=false}}}else{b.noty.ontap=true}};b.notyRenderer.show=function(d){if(d.options.modal){b.notyRenderer.createModalFor(d);b.notyRenderer.setModalCount(+1)}if(b(d.options.layout.container.selector).length==0){if(d.options.custom){d.options.custom.append(b(d.options.layout.container.object).addClass("i-am-new"))}else{b("body").append(b(d.options.layout.container.object).addClass("i-am-new"))}}else{b(d.options.layout.container.selector).removeClass("i-am-new")}b.notyRenderer.setLayoutCountFor(d,+1);d.show()};b.notyRenderer.createModalFor=function(d){if(b(".noty_modal").length==0){b("<div/>").addClass("noty_modal").data("noty_modal_count",0).css(d.options.theme.modal.css).prependTo(b("body")).fadeIn("fast")}};b.notyRenderer.getLayoutCountFor=function(d){return b(d.options.layout.container.selector).data("noty_layout_count")||0};b.notyRenderer.setLayoutCountFor=function(e,d){return b(e.options.layout.container.selector).data("noty_layout_count",b.notyRenderer.getLayoutCountFor(e)+d)};b.notyRenderer.getModalCount=function(){return b(".noty_modal").data("noty_modal_count")||0};b.notyRenderer.setModalCount=function(d){return b(".noty_modal").data("noty_modal_count",b.notyRenderer.getModalCount()+d)};b.fn.noty=function(d){d.custom=b(this);return b.notyRenderer.init(d)};b.noty={};b.noty.queue=[];b.noty.ontap=true;b.noty.layouts={};b.noty.themes={};b.noty.returns="object";b.noty.store={};b.noty.get=function(d){return b.noty.store.hasOwnProperty(d)?b.noty.store[d]:false};b.noty.close=function(d){return b.noty.get(d)?b.noty.get(d).close():false};b.noty.setText=function(e,d){return b.noty.get(e)?b.noty.get(e).setText(d):false};b.noty.setType=function(e,d){return b.noty.get(e)?b.noty.get(e).setType(d):false};b.noty.clearQueue=function(){b.noty.queue=[]};b.noty.closeAll=function(){b.noty.clearQueue();b.each(b.noty.store,function(e,d){d.close()})};var c=window.alert;b.noty.consumeAlert=function(d){window.alert=function(e){if(d){d.text=e}else{d={text:e}}b.notyRenderer.init(d)}};b.noty.stopConsumeAlert=function(){window.alert=c};b.noty.defaults={layout:"top",theme:"defaultTheme",type:"alert",text:"",dismissQueue:true,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500},timeout:false,force:false,modal:false,closeWith:["click"],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){}},buttons:false};b(window).resize(function(){b.each(b.noty.layouts,function(d,e){e.container.style.apply(b(e.container.selector))})})})(jQuery);function noty(c){var b=0,a={animateOpen:"animation.open",animateClose:"animation.close",easing:"animation.easing",speed:"animation.speed",onShow:"callback.onShow",onShown:"callback.afterShow",onClose:"callback.onClose",onClosed:"callback.afterClose"};jQuery.each(c,function(d,f){if(a[d]){b++;var e=a[d].split(".");if(!c[e[0]]){c[e[0]]={}}c[e[0]][e[1]]=(f)?f:function(){};delete c[d]}});if(!c.closeWith){c.closeWith=jQuery.noty.defaults.closeWith}if(c.hasOwnProperty("closeButton")){b++;if(c.closeButton){c.closeWith.push("button")}delete c.closeButton}if(c.hasOwnProperty("closeOnSelfClick")){b++;if(c.closeOnSelfClick){c.closeWith.push("click")}delete c.closeOnSelfClick}if(c.hasOwnProperty("closeOnSelfOver")){b++;if(c.closeOnSelfOver){c.closeWith.push("hover")}delete c.closeOnSelfOver}if(c.hasOwnProperty("custom")){b++;if(c.custom.container!="null"){c.custom=c.custom.container}}if(c.hasOwnProperty("cssPrefix")){b++;delete c.cssPrefix}if(c.theme=="noty_theme_default"){b++;c.theme="defaultTheme"}if(!c.hasOwnProperty("dismissQueue")){if(c.layout=="topLeft"||c.layout=="topRight"||c.layout=="bottomLeft"||c.layout=="bottomRight"){c.dismissQueue=true}else{c.dismissQueue=false}}if(c.buttons){jQuery.each(c.buttons,function(e,d){if(d.click){b++;d.onClick=d.click;delete d.click}if(d.type){b++;d.addClass=d.type;delete d.type}})}if(b){if(typeof console!=="undefined"&&console.warn){console.warn("You are using noty v2 with v1.x.x options. @deprecated until v2.2.0 - Please update your options.")}}return jQuery.notyRenderer.init(c)};
